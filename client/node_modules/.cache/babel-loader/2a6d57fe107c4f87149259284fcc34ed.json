{"ast":null,"code":"var _jsxFileName = \"/Users/omarlopez/Documents/MormonStudies/GroupRepo/WomenMormonStudies2/client/src/componenet/Search.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport Scroll from './Scroll';\nimport SearchList from './SearchList';\nimport { useEffect, useRef } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nlet skills = [\"Africa\", \"Asia\", \"Australia and/or New Zealand\", \"Pacific Islands\", \"Europe\", \"United States and/or Canada\", \"Latin America and/or Caribbean\", \"Middle East\"];\n\nfunction Search(_ref) {\n  _s();\n\n  let {\n    details\n  } = _ref;\n  const [searchField, setSearchField] = useState(\"\");\n  const [selectedSkill, setSelectedSkill] = useState(\"\");\n  const [dropdownSearchValue, setDropdownSearchValue] = useState(\"\");\n  const [editMode, setEditMode] = useState(false);\n  const dropdownRef = useRef();\n  useEffect(() => {\n    const checkIfClickedOutside = e => {\n      // If the menu is open and the clicked target is not within the menu,\n      // then close the menu\n      if (editMode && dropdownRef.current && !dropdownRef.current.contains(e.target)) {\n        setEditMode(false);\n      }\n    };\n\n    document.addEventListener(\"mousedown\", checkIfClickedOutside);\n    return () => {\n      // Cleanup the event listener\n      document.removeEventListener(\"mousedown\", checkIfClickedOutside);\n    };\n  }, [editMode]);\n\n  const skillSelectionHandler = skill => {\n    setSelectedSkill(skill);\n    setDropdownSearchValue(\"\");\n    setEditMode(false);\n  };\n\n  const filteredSkills = skills.filter(skill => skill.match(new RegExp(dropdownSearchValue, \"i\")));\n  const filteredPersons = details.filter(person => {\n    if (typeof person.first_name === 'undefined' && typeof person.last_name === 'undefined') {\n      return;\n    } else if (typeof person.first_name === 'undefined') {\n      return person.last_name.toLowerCase().includes(searchField.toLowerCase());\n    } else {\n      return person.first_name.toLowerCase().includes(searchField.toLowerCase()) || person.first_name.toLowerCase().includes(searchField.toLowerCase());\n    }\n  });\n\n  const handleChange = e => {\n    setSearchField(e.target.value);\n  };\n\n  function searchList() {\n    return /*#__PURE__*/_jsxDEV(Scroll, {\n      children: /*#__PURE__*/_jsxDEV(SearchList, {\n        filteredPersons: filteredPersons\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 7\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"section\", {\n    className: \"garamond\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"App\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Geographic Filtering\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 7\n      }, this), editMode ?\n      /*#__PURE__*/\n      // display the dropdown when the input us focused\n      _jsxDEV(\"div\", {\n        ref: dropdownRef,\n        className: \"dropdown-wrapper\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"dropdown-input\",\n          name: \"dropdown-input\",\n          autoFocus: true,\n          onChange: e => setDropdownSearchValue(e.target.value),\n          value: dropdownSearchValue\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"dropdown-list\",\n          children: /*#__PURE__*/_jsxDEV(\"ul\", {\n            children: [filteredSkills.map(skill => {\n              return /*#__PURE__*/_jsxDEV(\"li\", {\n                onClick: () => skillSelectionHandler(skill),\n                children: [skill, \" \"]\n              }, skill, true, {\n                fileName: _jsxFileName,\n                lineNumber: 117,\n                columnNumber: 19\n              }, this);\n            }), filteredSkills.length === 0 && /*#__PURE__*/_jsxDEV(\"li\", {\n              className: \"no-result\",\n              children: \"No results found\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 123,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 114,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 9\n      }, this) : /*#__PURE__*/_jsxDEV(\"input\", {\n        // Grey out the text when \"Select Primary skill\" input hint is shown\n        className: `dropdown-search ${!(dropdownSearchValue || selectedSkill) && \"default\"}`,\n        onFocus: () => setEditMode(true) // Display the selected skill or \"Select Primary skill\" input hint\n        ,\n        value: selectedSkill || \"Select Primary Geographic Focus\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"navy georgia ma0 grow\",\n      children: /*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"f2\",\n        children: \"Search for an Expert!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"pa2\",\n      children: /*#__PURE__*/_jsxDEV(\"input\", {\n        className: \"pa3 bb br3 grow b--none bg-lightest-blue ma3\",\n        type: \"search\",\n        placeholder: \"Search People\",\n        onChange: handleChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 7\n    }, this), searchList()]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 96,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Search, \"3yjeshqmVzQ3Bmsd0O6Re8PXlVw=\");\n\n_c = Search;\nexport default Search;\n\nvar _c;\n\n$RefreshReg$(_c, \"Search\");","map":{"version":3,"names":["React","useState","Scroll","SearchList","useEffect","useRef","skills","Search","details","searchField","setSearchField","selectedSkill","setSelectedSkill","dropdownSearchValue","setDropdownSearchValue","editMode","setEditMode","dropdownRef","checkIfClickedOutside","e","current","contains","target","document","addEventListener","removeEventListener","skillSelectionHandler","skill","filteredSkills","filter","match","RegExp","filteredPersons","person","first_name","last_name","toLowerCase","includes","handleChange","value","searchList","map","length"],"sources":["/Users/omarlopez/Documents/MormonStudies/GroupRepo/WomenMormonStudies2/client/src/componenet/Search.js"],"sourcesContent":["\nimport React, { useState } from 'react';\nimport Scroll from './Scroll';\nimport SearchList from './SearchList';\nimport { useEffect, useRef} from \"react\"\nlet skills = [\n  \"Africa\",\n  \"Asia\",\n  \"Australia and/or New Zealand\",\n  \"Pacific Islands\",\n  \"Europe\",\n  \"United States and/or Canada\",\n  \"Latin America and/or Caribbean\",\n  \"Middle East\"\n\n]\n\nfunction Search({ details }) {\n\n  const [searchField, setSearchField] = useState(\"\");\n  const [selectedSkill, setSelectedSkill] = useState(\"\")\n  const [dropdownSearchValue, setDropdownSearchValue] = useState(\"\")\n  const [editMode, setEditMode] = useState(false)\n  const dropdownRef = useRef()\n\n  useEffect(() => {\n    const checkIfClickedOutside = e => {\n      // If the menu is open and the clicked target is not within the menu,\n      // then close the menu\n      if (\n        editMode &&\n        dropdownRef.current &&\n        !dropdownRef.current.contains(e.target)\n      ) {\n        setEditMode(false)\n      }\n    }\n    document.addEventListener(\"mousedown\", checkIfClickedOutside)\n    return () => {\n      // Cleanup the event listener\n      document.removeEventListener(\"mousedown\", checkIfClickedOutside)\n    }\n  }, [editMode])\n\n  const skillSelectionHandler = skill => {\n    setSelectedSkill(skill)\n    setDropdownSearchValue(\"\")\n    setEditMode(false)\n  }\n\n  const filteredSkills = skills.filter(skill =>\n    skill.match(new RegExp(dropdownSearchValue, \"i\"))\n  )\n\n  const filteredPersons = details.filter(\n    person => {\n      if (typeof(person.first_name) === 'undefined' && typeof(person.last_name) === 'undefined') {\n        return\n      }\n      else if (typeof(person.first_name) === 'undefined') {\n        return (\n          person\n        .last_name\n        .toLowerCase()\n        .includes(searchField.toLowerCase())\n        )\n      }\n      else{\n        return (\n          person\n        .first_name\n        .toLowerCase()\n        .includes(searchField.toLowerCase()) ||\n        person\n        .first_name\n        .toLowerCase()\n        .includes(searchField.toLowerCase())\n        )\n      }\n    }\n  );\n\nconst handleChange = e => {\n  setSearchField(e.target.value);\n};\n\n  function searchList() {\n    return (\n      <Scroll>\n        <SearchList filteredPersons={filteredPersons} />\n      </Scroll>\n    );\n  }\n\n  return (\n    <section className=\"garamond\">\n          \n    <div className=\"App\">\n      <h2>Geographic Filtering</h2>\n\n      {editMode ? (\n        // display the dropdown when the input us focused\n        <div ref={dropdownRef} className=\"dropdown-wrapper\">\n          <input\n            className=\"dropdown-input\"\n            name=\"dropdown-input\"\n            autoFocus\n            onChange={e => setDropdownSearchValue(e.target.value)}\n            value={dropdownSearchValue}\n            \n          />\n          \n          <div className=\"dropdown-list\">\n            <ul>\n              {filteredSkills.map(skill => {\n                return (\n                  <li key={skill} onClick={() => skillSelectionHandler(skill)}>\n                    {skill}{\" \"}\n                  </li>\n                )\n              })}\n              {filteredSkills.length === 0 && (\n                <li className=\"no-result\">No results found</li>\n              )}\n            </ul>\n          </div>\n        </div>\n      ) : (\n        <input\n          // Grey out the text when \"Select Primary skill\" input hint is shown\n          className={`dropdown-search ${\n            !(dropdownSearchValue || selectedSkill) && \"default\"\n          }`}\n          onFocus={() => setEditMode(true)}\n          // Display the selected skill or \"Select Primary skill\" input hint\n          value={selectedSkill || \"Select Primary Geographic Focus\"}\n        />\n      )}\n    </div>\n      <div className=\"navy georgia ma0 grow\">\n        <h2 className=\"f2\">Search for an Expert!</h2>\n      </div>\n      <div className=\"pa2\">\n        <input \n          className=\"pa3 bb br3 grow b--none bg-lightest-blue ma3\"\n          type = \"search\" \n          placeholder = \"Search People\" \n          onChange = {handleChange}\n        />\n      </div>\n      {searchList()}\n      \n    </section>\n    \n  );\n}\n\nexport default Search;\n\n\n\n\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}